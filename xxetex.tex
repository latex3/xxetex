% xxetex (xetex emulation in luatex)
% Copyright 2022-2023 LaTeX Project
% It may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3c
% of this license or (at your option) any later version.

%\catcode`\{=1
%\catcode`\}=2
\catcode`\@=11
\catcode`\!=11
%\catcode`\_=11
%\catcode`\:=11

\let\@@!directlua\directlua %\let\directlua\undefined

\chardef\XeTeXversion=0
\def\XeTeXrevision{.99999}%

\newcount\XeTeXtracingfonts \XeTeXtracingfonts=0
\newcount\XeTeXuseglyphmetrics \XeTeXuseglyphmetrics=1

\let\XeTeXmathcode\Umathcode

\@@!directlua{xxetex = xxetex or require("xxetex.lua")}

\protected\def\XeTeXfonttype     {\@@!directlua{xxetex.XeTeXfonttype()}}
\protected\def\XeTeXfirstfontchar{\@@!directlua{xxetex.XeTeXfirstfontchar()}}
\protected\def\XeTeXlastfontchar {\@@!directlua{xxetex.XeTeXlastfontchar()}}
          \def\XeTeXglyph        {\@@!directlua{xxetex.XeTeXglyph()}}
\protected\def\XeTeXcountglyphs  {\@@!directlua{xxetex.XeTeXcountglyphs()}}
          \def\XeTeXglyphname    {\@@!directlua{xxetex.XeTeXglyphname()}}
\protected\def\XeTeXglyphindex   {\@@!directlua{xxetex.XeTeXglyphindex()}}
\protected\def\XeTeXcharglyph    {\@@!directlua{xxetex.XeTeXcharglyph()}}
\protected\def\XeTeXglyphbounds  {\@@!directlua{xxetex.XeTeXglyphbounds()}}

%\catcode`\{=12
%\catcode`\{=12
\catcode`\@=12
\catcode`\!=12
%\catcode`\_=12
%\catcode`\:=12
